Table users {
  id varchar [pk]
  username varchar [not null, unique]
}

Table locations {
  id bigint [pk]
  longitude varchar [not null] // compatable with java.math.BigDecimal
  latitude varchar [not null] // compatable with java.math.BigDecimal
  address varchar [not null, unique]
  flag_path varchar // [unique]
  indexes {
    (longitude, latitude) [unique]
  }
}

Table countries {
  id bigint [pk]
  location_id bigint [not null, unique, ref: > locations.id]
  name varchar [not null, unique]
}

Table cities {
  id bigint [pk]
  country_id bigint [not null, ref: > countries.id]
  location_id bigint [not null, unique, ref: > locations.id]
  name varchar [not null] // intentionally not unique
}

Table tourist_attractions {
  id bigint [pk]
  city_id bigint [not null, ref: > cities.id]
  location_id bigint [not null, ref: > locations.id]
  name varchar [not null]
  description text // text since description may be bigger than 255 characters
}

Table reviews {
  id bigint [pk]
  attraction_id bigint [not null, ref: > tourist_attractions.id]
  user_id varchar [not null, ref: > users.id]
  stars int1(1) [not null] // 0-9 for 1-10 raiting
  title varchar [not null]
  description text // text since description may be bigger than 255 characters
  indexes {
    (attraction_id, user_id) [unique]
  }
}

Table images {
  id bigint [pk]
  city_id bigint [ref: > cities.id]
  attraction_id bigint [ref: > tourist_attractions.id]
  review_id bigint [ref: > reviews.id]
  path varchar [not null, unique]
}